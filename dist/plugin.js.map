{"version":3,"file":"plugin.js","sources":["esm/applepay/apple-pay-events.enum.js","esm/googlepay/google-pay-events.enum.js","esm/paymentflow/payment-flow-events.enum.js","esm/paymentsheet/payment-sheet-events.enum.js","esm/paymentintent/payment-intent-events.enum.js","esm/index.js","esm/shared/platform.js","esm/web.js"],"sourcesContent":["export var ApplePayEventsEnum;\n(function (ApplePayEventsEnum) {\n    ApplePayEventsEnum[\"Loaded\"] = \"applePayLoaded\";\n    ApplePayEventsEnum[\"FailedToLoad\"] = \"applePayFailedToLoad\";\n    ApplePayEventsEnum[\"Completed\"] = \"applePayCompleted\";\n    ApplePayEventsEnum[\"Canceled\"] = \"applePayCanceled\";\n    ApplePayEventsEnum[\"Failed\"] = \"applePayFailed\";\n    ApplePayEventsEnum[\"DidSelectShippingContact\"] = \"applePayDidSelectShippingContact\";\n    ApplePayEventsEnum[\"DidCreatePaymentMethod\"] = \"applePayDidCreatePaymentMethod\";\n})(ApplePayEventsEnum || (ApplePayEventsEnum = {}));\n//# sourceMappingURL=apple-pay-events.enum.js.map","export var GooglePayEventsEnum;\n(function (GooglePayEventsEnum) {\n    GooglePayEventsEnum[\"Loaded\"] = \"googlePayLoaded\";\n    GooglePayEventsEnum[\"FailedToLoad\"] = \"googlePayFailedToLoad\";\n    GooglePayEventsEnum[\"Completed\"] = \"googlePayCompleted\";\n    GooglePayEventsEnum[\"Canceled\"] = \"googlePayCanceled\";\n    GooglePayEventsEnum[\"Failed\"] = \"googlePayFailed\";\n})(GooglePayEventsEnum || (GooglePayEventsEnum = {}));\n//# sourceMappingURL=google-pay-events.enum.js.map","export var PaymentFlowEventsEnum;\n(function (PaymentFlowEventsEnum) {\n    PaymentFlowEventsEnum[\"Loaded\"] = \"paymentFlowLoaded\";\n    PaymentFlowEventsEnum[\"FailedToLoad\"] = \"paymentFlowFailedToLoad\";\n    PaymentFlowEventsEnum[\"Opened\"] = \"paymentFlowOpened\";\n    PaymentFlowEventsEnum[\"Created\"] = \"paymentFlowCreated\";\n    PaymentFlowEventsEnum[\"Completed\"] = \"paymentFlowCompleted\";\n    PaymentFlowEventsEnum[\"Canceled\"] = \"paymentFlowCanceled\";\n    PaymentFlowEventsEnum[\"Failed\"] = \"paymentFlowFailed\";\n})(PaymentFlowEventsEnum || (PaymentFlowEventsEnum = {}));\n//# sourceMappingURL=payment-flow-events.enum.js.map","export var PaymentSheetEventsEnum;\n(function (PaymentSheetEventsEnum) {\n    PaymentSheetEventsEnum[\"Loaded\"] = \"paymentSheetLoaded\";\n    PaymentSheetEventsEnum[\"FailedToLoad\"] = \"paymentSheetFailedToLoad\";\n    PaymentSheetEventsEnum[\"Completed\"] = \"paymentSheetCompleted\";\n    PaymentSheetEventsEnum[\"Canceled\"] = \"paymentSheetCanceled\";\n    PaymentSheetEventsEnum[\"Failed\"] = \"paymentSheetFailed\";\n})(PaymentSheetEventsEnum || (PaymentSheetEventsEnum = {}));\n//# sourceMappingURL=payment-sheet-events.enum.js.map","export var PaymentIntentEventsEnum;\n(function (PaymentIntentEventsEnum) {\n    PaymentIntentEventsEnum[\"Loaded\"] = \"paymentIntentLoaded\";\n    PaymentIntentEventsEnum[\"FailedToLoad\"] = \"paymentIntentFailedToLoad\";\n    PaymentIntentEventsEnum[\"Completed\"] = \"paymentIntentCompleted\";\n    PaymentIntentEventsEnum[\"Canceled\"] = \"paymentIntentCanceled\";\n    PaymentIntentEventsEnum[\"Failed\"] = \"paymentIntentFailed\";\n})(PaymentIntentEventsEnum || (PaymentIntentEventsEnum = {}));\n//# sourceMappingURL=payment-intent-events.enum.js.map","import { registerPlugin } from '@capacitor/core';\nconst Stripe = registerPlugin('Stripe', {\n    web: () => import('./web').then((m) => new m.StripeWeb()),\n});\nexport * from './definitions';\nexport { Stripe };\n//# sourceMappingURL=index.js.map","/**\n * @url https://github.com/ionic-team/ionic-framework/blob/main/core/src/utils/platform.ts\n * So `@typescript-eslint/no-explicit-any` `@typescript-eslint/no-non-null-assertion` is disabled here\n */\nexport const getPlatforms = (win) => setupPlatforms(win);\nexport const isPlatform = (winOrPlatform, platform) => {\n    if (typeof winOrPlatform === 'string') {\n        platform = winOrPlatform;\n        winOrPlatform = undefined;\n    }\n    return getPlatforms(winOrPlatform).includes(platform);\n};\nexport const setupPlatforms = (win = window) => {\n    if (typeof win === 'undefined') {\n        return [];\n    }\n    win.Ionic = win.Ionic || {};\n    let platforms = win.Ionic.platforms;\n    if (platforms == null) {\n        platforms = win.Ionic.platforms = detectPlatforms(win);\n        platforms.forEach(p => win.document.documentElement.classList.add(`plt-${p}`));\n    }\n    return platforms;\n};\nconst detectPlatforms = (win) => Object.keys(PLATFORMS_MAP).filter(p => PLATFORMS_MAP[p](win));\nconst isMobileWeb = (win) => isMobile(win) && !isHybrid(win);\nconst isIpad = (win) => {\n    // iOS 12 and below\n    if (testUserAgent(win, /iPad/i)) {\n        return true;\n    }\n    // iOS 13+\n    if (testUserAgent(win, /Macintosh/i) && isMobile(win)) {\n        return true;\n    }\n    return false;\n};\nconst isIphone = (win) => testUserAgent(win, /iPhone/i);\nconst isIOS = (win) => testUserAgent(win, /iPhone|iPod/i) || isIpad(win);\nconst isAndroid = (win) => testUserAgent(win, /android|sink/i);\nconst isAndroidTablet = (win) => {\n    return isAndroid(win) && !testUserAgent(win, /mobile/i);\n};\nconst isPhablet = (win) => {\n    const width = win.innerWidth;\n    const height = win.innerHeight;\n    const smallest = Math.min(width, height);\n    const largest = Math.max(width, height);\n    return (smallest > 390 && smallest < 520) &&\n        (largest > 620 && largest < 800);\n};\nconst isTablet = (win) => {\n    const width = win.innerWidth;\n    const height = win.innerHeight;\n    const smallest = Math.min(width, height);\n    const largest = Math.max(width, height);\n    return (isIpad(win) ||\n        isAndroidTablet(win) ||\n        ((smallest > 460 && smallest < 820) &&\n            (largest > 780 && largest < 1400)));\n};\nconst isMobile = (win) => matchMedia(win, '(any-pointer:coarse)');\nconst isDesktop = (win) => !isMobile(win);\nconst isHybrid = (win) => isCordova(win) || isCapacitorNative(win);\nconst isCordova = (win) => !!(win['cordova'] || win['phonegap'] || win['PhoneGap']);\nconst isCapacitorNative = (win) => {\n    const capacitor = win['Capacitor'];\n    return !!(capacitor === null || capacitor === void 0 ? void 0 : capacitor.isNative);\n};\nconst isElectron = (win) => testUserAgent(win, /electron/i);\nconst isPWA = (win) => !!(win.matchMedia('(display-mode: standalone)').matches || win.navigator.standalone);\nexport const testUserAgent = (win, expr) => expr.test(win.navigator.userAgent);\nconst matchMedia = (win, query) => win.matchMedia(query).matches;\nconst PLATFORMS_MAP = {\n    'ipad': isIpad,\n    'iphone': isIphone,\n    'ios': isIOS,\n    'android': isAndroid,\n    'phablet': isPhablet,\n    'tablet': isTablet,\n    'cordova': isCordova,\n    'capacitor': isCapacitorNative,\n    'electron': isElectron,\n    'pwa': isPWA,\n    'mobile': isMobile,\n    'mobileweb': isMobileWeb,\n    'desktop': isDesktop,\n    'hybrid': isHybrid\n};\n//# sourceMappingURL=platform.js.map","import { WebPlugin } from '@capacitor/core';\nimport { defineCustomElements as stripeDefineCustomElements } from '@stripe-elements/stripe-elements/loader';\nimport { loadStripe } from '@stripe/stripe-js';\nimport { ApplePayEventsEnum, GooglePayEventsEnum, PaymentFlowEventsEnum, PaymentIntentEventsEnum, PaymentSheetEventsEnum } from './definitions';\nimport { isPlatform } from './shared/platform';\nexport class StripeWeb extends WebPlugin {\n    constructor() {\n        super({\n            name: 'Stripe',\n            platforms: ['web'],\n        });\n        this.waitForElm = async (el, selector) => {\n            return new Promise(resolve => {\n                if (el.querySelector(selector)) {\n                    return resolve(el.querySelector(selector));\n                }\n                const observer = new MutationObserver(() => {\n                    if (el.querySelector(selector)) {\n                        resolve(el.querySelector(selector));\n                        observer.disconnect();\n                    }\n                });\n                observer.observe(el, {\n                    childList: true,\n                    subtree: true\n                });\n            });\n        };\n    }\n    async retrieveSetupIntent(options) {\n        var _a, _b, _c, _d;\n        if (!(window === null || window === void 0 ? void 0 : window.Stripe) || !this.publishableKey) {\n            return {\n                paymentResult: PaymentIntentEventsEnum.FailedToLoad\n            };\n        }\n        console.log(options);\n        const stripe = window.Stripe(this.publishableKey, { stripeAccount: options.stripeAccount });\n        const res = await stripe.retrieveSetupIntent(options.clientSecret).then(pir => pir);\n        if (((_a = res.setupIntent) === null || _a === void 0 ? void 0 : _a.status) === 'succeeded') {\n            this.notifyListeners(PaymentIntentEventsEnum.Completed, null);\n            return {\n                paymentResult: PaymentIntentEventsEnum.Completed,\n            };\n        }\n        this.notifyListeners(PaymentIntentEventsEnum.Failed, (_b = res.setupIntent) === null || _b === void 0 ? void 0 : _b.last_setup_error);\n        return {\n            paymentResult: PaymentIntentEventsEnum.Failed,\n            error: ((_c = res === null || res === void 0 ? void 0 : res.setupIntent) === null || _c === void 0 ? void 0 : _c.last_setup_error) ? (_d = res === null || res === void 0 ? void 0 : res.setupIntent) === null || _d === void 0 ? void 0 : _d.last_setup_error.message : undefined\n        };\n    }\n    async confirmPaymentIntent(options) {\n        if (!window || !window.Stripe || !this.publishableKey) {\n            return {\n                paymentResult: PaymentIntentEventsEnum.FailedToLoad\n            };\n        }\n        const stripe = window.Stripe(this.publishableKey, { stripeAccount: options.stripeAccount });\n        const { error: confirmError } = await stripe.confirmCardPayment(options.clientSecret, { payment_method: options.paymentMethodId });\n        if (confirmError) {\n            this.notifyListeners(PaymentIntentEventsEnum.Failed, confirmError);\n            return {\n                paymentResult: PaymentIntentEventsEnum.Failed,\n            };\n        }\n        else {\n            this.notifyListeners(PaymentIntentEventsEnum.Completed, null);\n            return {\n                paymentResult: PaymentIntentEventsEnum.Completed,\n            };\n        }\n    }\n    async initialize(options) {\n        if (typeof options.publishableKey !== 'string' || options.publishableKey.trim().length === 0) {\n            throw new Error('you must provide a valid key');\n        }\n        this.publishableKey = options.publishableKey;\n        if (options.stripeAccount) {\n            this.stripeAccount = options.stripeAccount;\n        }\n    }\n    async createPaymentSheet(options) {\n        var _a;\n        if (!this.publishableKey) {\n            this.notifyListeners(PaymentSheetEventsEnum.FailedToLoad, null);\n            return;\n        }\n        this.paymentSheet = document.createElement('stripe-payment-sheet');\n        (_a = document.querySelector('body')) === null || _a === void 0 ? void 0 : _a.appendChild(this.paymentSheet);\n        await customElements.whenDefined('stripe-payment-sheet');\n        this.paymentSheet.publishableKey = this.publishableKey;\n        if (this.stripeAccount) {\n            this.paymentSheet.stripeAccount = this.stripeAccount;\n        }\n        this.paymentSheet.applicationName = '@capacitor-community/stripe';\n        this.paymentSheet.intentClientSecret = options.paymentIntentClientSecret;\n        this.paymentSheet.intentType = 'payment';\n        if (options.withZipCode !== undefined) {\n            this.paymentSheet.zip = options.withZipCode;\n        }\n        this.notifyListeners(PaymentSheetEventsEnum.Loaded, null);\n    }\n    async presentPaymentSheet() {\n        if (!this.paymentSheet) {\n            throw new Error();\n        }\n        const props = await this.paymentSheet.present();\n        if (props === undefined) {\n            this.notifyListeners(PaymentSheetEventsEnum.Canceled, null);\n            return {\n                paymentResult: PaymentSheetEventsEnum.Canceled,\n            };\n        }\n        const { detail: { stripe, cardNumberElement }, } = props;\n        const result = await stripe.createPaymentMethod({\n            type: 'card',\n            card: cardNumberElement,\n        });\n        this.paymentSheet.updateProgress('success');\n        this.paymentSheet.remove();\n        if (result.error !== undefined) {\n            this.notifyListeners(PaymentSheetEventsEnum.Failed, null);\n            return {\n                paymentResult: PaymentSheetEventsEnum.Failed,\n            };\n        }\n        this.notifyListeners(PaymentSheetEventsEnum.Completed, null);\n        return {\n            paymentResult: PaymentSheetEventsEnum.Completed,\n        };\n    }\n    async addAddressElement(paymentSheet, clientSecret, address) {\n        var _a, _b;\n        if (!window.Stripe && this.publishableKey && !this.elements) {\n            await loadStripe(this.publishableKey);\n        }\n        if (window.Stripe && this.publishableKey && !this.elements) {\n            const stripe = window.Stripe(this.publishableKey, { stripeAccount: this.stripeAccount });\n            this.elements = stripe.elements({\n                clientSecret\n            });\n        }\n        const el = await paymentSheet.getStripePaymentSheetElement();\n        const cardEl = await this.waitForElm(el, '#stripe-card-element');\n        const add = document.createElement('stripe-address-sheet');\n        add.setAttribute('id', 'address-element');\n        cardEl === null || cardEl === void 0 ? void 0 : cardEl.appendChild(add);\n        this.addressElement = this.addressElement ? this.addressElement : (_a = this.elements) === null || _a === void 0 ? void 0 : _a.create('address', {\n            mode: 'billing',\n            defaultValues: {\n                name: address === null || address === void 0 ? void 0 : address.userName,\n                address: (address === null || address === void 0 ? void 0 : address.countryCode) ? {\n                    line1: (address === null || address === void 0 ? void 0 : address.lineOne) ? address.lineOne : undefined,\n                    line2: (address === null || address === void 0 ? void 0 : address.lineTwo) ? address.lineTwo : undefined,\n                    city: (address === null || address === void 0 ? void 0 : address.city) ? address.city : undefined,\n                    state: (address === null || address === void 0 ? void 0 : address.state) ? address.state : undefined,\n                    postal_code: (address === null || address === void 0 ? void 0 : address.postCode) ? address.postCode : undefined,\n                    country: address === null || address === void 0 ? void 0 : address.countryCode,\n                } : undefined\n            }\n        });\n        // await this.waitForElm(paymentSheet, '#address-element');\n        (_b = this.addressElement) === null || _b === void 0 ? void 0 : _b.mount('#address-element');\n    }\n    async createPaymentFlow(options) {\n        var _a;\n        if (!this.publishableKey) {\n            this.notifyListeners(PaymentFlowEventsEnum.FailedToLoad, null);\n            return;\n        }\n        stripeDefineCustomElements(window);\n        this.paymentSheet = document.createElement('stripe-payment-sheet');\n        (_a = document.querySelector('body')) === null || _a === void 0 ? void 0 : _a.appendChild(this.paymentSheet);\n        await customElements.whenDefined('stripe-payment-sheet');\n        this.paymentSheet.publishableKey = this.publishableKey;\n        if (this.stripeAccount) {\n            this.paymentSheet.stripeAccount = this.stripeAccount;\n        }\n        this.paymentSheet.applicationName = '@capacitor-community/stripe';\n        // eslint-disable-next-line no-prototype-builtins\n        if (options.hasOwnProperty('paymentIntentClientSecret')) {\n            this.paymentSheet.intentType = 'payment';\n            this.paymentSheet.intentClientSecret = options.paymentIntentClientSecret;\n        }\n        else {\n            this.paymentSheet.intentType = 'setup';\n            this.paymentSheet.intentClientSecret = options.setupIntentClientSecret;\n        }\n        if (options.withZipCode !== undefined) {\n            this.paymentSheet.zip = options.withZipCode;\n        }\n        if (isPlatform(window, 'ios')) {\n            this.paymentSheet.buttonLabel = 'Add card';\n            this.paymentSheet.sheetTitle = 'Add a card';\n        }\n        else {\n            this.paymentSheet.buttonLabel = 'Add';\n        }\n        await this.addAddressElement(this.paymentSheet, options.paymentIntentClientSecret || options.setupIntentClientSecret, options.address);\n        this.notifyListeners(PaymentFlowEventsEnum.Loaded, null);\n        return this.paymentSheet;\n    }\n    async presentPaymentFlow() {\n        var _a, _b, _c, _d, _e, _f;\n        if (!this.paymentSheet) {\n            throw new Error();\n        }\n        this.notifyListeners(PaymentFlowEventsEnum.Opened, null);\n        this.paymentSheet.handleSubmit = async (event, submitEventProps) => {\n            var _a, _b, _c, _d, _e, _f, _g, _h, _j;\n            event.preventDefault();\n            if (!((_a = this.paymentSheet) === null || _a === void 0 ? void 0 : _a.intentClientSecret)) {\n                throw new Error('intentClientSecret is not defined');\n            }\n            const cardEl = submitEventProps.cardNumberElement;\n            if (!cardEl || this.addressElement === undefined) {\n                console.error('card element is not defined ', submitEventProps, this.addressElement, cardEl);\n                return;\n            }\n            const addressHolder = await this.addressElement.getValue().then(res => res.value);\n            console.log('addressHolder', submitEventProps, this.paymentSheet, addressHolder);\n            if (this.paymentSheet.intentType === 'payment') {\n                await submitEventProps.stripe.confirmCardPayment(this.paymentSheet.intentClientSecret, {\n                    payment_method: {\n                        card: cardEl,\n                        billing_details: {\n                            address: {\n                                line1: addressHolder === null || addressHolder === void 0 ? void 0 : addressHolder.address.line1,\n                                line2: (addressHolder === null || addressHolder === void 0 ? void 0 : addressHolder.address.line2) || undefined,\n                                city: (_b = addressHolder === null || addressHolder === void 0 ? void 0 : addressHolder.address) === null || _b === void 0 ? void 0 : _b.city,\n                                state: (_c = addressHolder === null || addressHolder === void 0 ? void 0 : addressHolder.address) === null || _c === void 0 ? void 0 : _c.state,\n                                postal_code: (_d = addressHolder === null || addressHolder === void 0 ? void 0 : addressHolder.address) === null || _d === void 0 ? void 0 : _d.postal_code,\n                                country: (_e = addressHolder === null || addressHolder === void 0 ? void 0 : addressHolder.address) === null || _e === void 0 ? void 0 : _e.country\n                            },\n                            name: addressHolder === null || addressHolder === void 0 ? void 0 : addressHolder.name,\n                        }\n                    }\n                });\n            }\n            await submitEventProps.stripe.confirmCardSetup(this.paymentSheet.intentClientSecret, {\n                payment_method: {\n                    card: cardEl,\n                    billing_details: {\n                        address: {\n                            line1: addressHolder === null || addressHolder === void 0 ? void 0 : addressHolder.address.line1,\n                            line2: (addressHolder === null || addressHolder === void 0 ? void 0 : addressHolder.address.line2) || undefined,\n                            city: (_f = addressHolder === null || addressHolder === void 0 ? void 0 : addressHolder.address) === null || _f === void 0 ? void 0 : _f.city,\n                            state: (_g = addressHolder === null || addressHolder === void 0 ? void 0 : addressHolder.address) === null || _g === void 0 ? void 0 : _g.state,\n                            postal_code: (_h = addressHolder === null || addressHolder === void 0 ? void 0 : addressHolder.address) === null || _h === void 0 ? void 0 : _h.postal_code,\n                            country: (_j = addressHolder === null || addressHolder === void 0 ? void 0 : addressHolder.address) === null || _j === void 0 ? void 0 : _j.country\n                        },\n                        name: addressHolder === null || addressHolder === void 0 ? void 0 : addressHolder.name,\n                    }\n                }\n            });\n        };\n        const props = await this.paymentSheet.present().catch(() => undefined);\n        const addressHolder = await ((_a = this.addressElement) === null || _a === void 0 ? void 0 : _a.getValue().then(res => res.value));\n        if (props === undefined) {\n            this.notifyListeners(PaymentFlowEventsEnum.Canceled, null);\n            (_b = document.querySelector('body')) === null || _b === void 0 ? void 0 : _b.removeChild(this.paymentSheet);\n            return {\n                cardNumber: '',\n                error: 'canceled',\n                debugError: 'user hit the cancel button'\n            };\n        }\n        const { detail: { stripe, cardNumberElement }, } = props;\n        const { token } = await stripe.createToken(cardNumberElement, {\n            address_line1: addressHolder === null || addressHolder === void 0 ? void 0 : addressHolder.address.line1,\n            address_line2: (addressHolder === null || addressHolder === void 0 ? void 0 : addressHolder.address.line2) || undefined,\n            address_city: (_c = addressHolder === null || addressHolder === void 0 ? void 0 : addressHolder.address) === null || _c === void 0 ? void 0 : _c.city,\n            address_state: (_d = addressHolder === null || addressHolder === void 0 ? void 0 : addressHolder.address) === null || _d === void 0 ? void 0 : _d.state,\n            address_zip: (_e = addressHolder === null || addressHolder === void 0 ? void 0 : addressHolder.address) === null || _e === void 0 ? void 0 : _e.postal_code,\n            address_country: (_f = addressHolder === null || addressHolder === void 0 ? void 0 : addressHolder.address) === null || _f === void 0 ? void 0 : _f.country,\n            name: addressHolder === null || addressHolder === void 0 ? void 0 : addressHolder.name,\n        });\n        if (token === undefined || token.card === undefined) {\n            throw new Error();\n        }\n        this.flowStripe = stripe;\n        this.flowCardNumberElement = cardNumberElement;\n        this.notifyListeners(PaymentFlowEventsEnum.Created, {\n            cardNumber: token.card.last4,\n        });\n        return {\n            cardNumber: token.card.last4,\n        };\n    }\n    async confirmPaymentFlow() {\n        if (!this.paymentSheet || !this.flowStripe || !this.flowCardNumberElement) {\n            throw new Error();\n        }\n        const result = await this.flowStripe.createPaymentMethod({\n            type: 'card',\n            card: this.flowCardNumberElement,\n        });\n        if (result.error !== undefined) {\n            this.notifyListeners(PaymentFlowEventsEnum.Failed, null);\n            this.paymentSheet.updateProgress('failure');\n            this.paymentSheet.remove();\n            this.notifyListeners(PaymentFlowEventsEnum.Failed, null);\n            return {\n                paymentResult: PaymentFlowEventsEnum.Failed,\n                error: result.error.message,\n                debugError: result.error.decline_code,\n            };\n        }\n        this.paymentSheet.updateProgress('success');\n        this.paymentSheet.remove();\n        this.notifyListeners(PaymentFlowEventsEnum.Completed, null);\n        return {\n            paymentResult: PaymentFlowEventsEnum.Completed,\n        };\n    }\n    isApplePayAvailable() {\n        return this.isAvailable('applePay');\n    }\n    async createApplePay(createApplePayOption) {\n        if (!this.publishableKey) {\n            this.notifyListeners(ApplePayEventsEnum.FailedToLoad, null);\n            return;\n        }\n        this.requestApplePay = await this.createPaymentRequestButton();\n        this.requestApplePayOptions = createApplePayOption;\n        this.notifyListeners(ApplePayEventsEnum.Loaded, null);\n    }\n    presentApplePay() {\n        return this.presentPaymentRequestButton('applePay', this.requestApplePay, this.requestApplePayOptions, ApplePayEventsEnum);\n    }\n    isGooglePayAvailable() {\n        return this.isAvailable('googlePay');\n    }\n    async createGooglePay(createGooglePayOption) {\n        if (!this.publishableKey) {\n            this.notifyListeners(GooglePayEventsEnum.FailedToLoad, null);\n            return;\n        }\n        this.requestGooglePay = await this.createPaymentRequestButton();\n        this.requestGooglePayOptions = createGooglePayOption;\n        this.notifyListeners(GooglePayEventsEnum.Loaded, null);\n    }\n    presentGooglePay() {\n        return this.presentPaymentRequestButton('googlePay', this.requestGooglePay, this.requestGooglePayOptions, GooglePayEventsEnum);\n    }\n    async isAvailable(type) {\n        var _a;\n        const requestButton = document.createElement('stripe-payment-request-button');\n        requestButton.id = `isAvailable-${type}`;\n        (_a = document.querySelector('body')) === null || _a === void 0 ? void 0 : _a.appendChild(requestButton);\n        await customElements.whenDefined('stripe-payment-request-button');\n        if (this.publishableKey) {\n            requestButton.publishableKey = this.publishableKey;\n        }\n        if (this.stripeAccount) {\n            requestButton.stripeAccount = this.stripeAccount;\n        }\n        requestButton.applicationName = '@capacitor-community/stripe';\n        return await requestButton.isAvailable(type).finally(() => requestButton.remove());\n    }\n    async createPaymentRequestButton() {\n        var _a;\n        const requestButton = document.createElement('stripe-payment-request-button');\n        (_a = document.querySelector('body')) === null || _a === void 0 ? void 0 : _a.appendChild(requestButton);\n        await customElements.whenDefined('stripe-payment-request-button');\n        if (this.publishableKey) {\n            requestButton.publishableKey = this.publishableKey;\n        }\n        if (this.stripeAccount) {\n            requestButton.stripeAccount = this.stripeAccount;\n        }\n        requestButton.applicationName = '@capacitor-community/stripe';\n        return requestButton;\n    }\n    async presentPaymentRequestButton(type, requestButton, requestButtonOptions, EventsEnum) {\n        // eslint-disable-next-line no-async-promise-executor\n        return new Promise(async (resolve) => {\n            if (requestButton === undefined || requestButtonOptions === undefined || this.publishableKey === undefined) {\n                this.notifyListeners(EventsEnum.Failed, null);\n                return resolve({\n                    paymentResult: EventsEnum.Failed,\n                });\n            }\n            await requestButton.setPaymentRequestOption({\n                country: requestButtonOptions.countryCode.toUpperCase(),\n                currency: requestButtonOptions.currency.toLowerCase(),\n                total: requestButtonOptions.paymentSummaryItems[requestButtonOptions.paymentSummaryItems.length - 1],\n                disableWallets: type === 'applePay' ? ['googlePay', 'browserCard'] : ['applePay', 'browserCard'],\n                requestPayerName: true,\n                requestPayerEmail: true,\n            });\n            // await this.requestButton.setPaymentRequestShippingAddressEventHandler(async (event, stripe) => {});\n            const intentClientSecret = requestButtonOptions.paymentIntentClientSecret;\n            await requestButton.setPaymentMethodEventHandler(async (event, stripe) => {\n                const { paymentIntent, error: confirmError } = await stripe.confirmCardPayment(intentClientSecret, {\n                    payment_method: event.paymentMethod.id,\n                }, { handleActions: false });\n                if (confirmError) {\n                    event.complete('fail');\n                    this.notifyListeners(EventsEnum.Failed, confirmError);\n                    return resolve({\n                        paymentResult: EventsEnum.Failed,\n                    });\n                }\n                if ((paymentIntent === null || paymentIntent === void 0 ? void 0 : paymentIntent.status) === 'requires_action') {\n                    const { error: confirmError } = await stripe.confirmCardPayment(intentClientSecret);\n                    if (confirmError) {\n                        event.complete('fail');\n                        this.notifyListeners(EventsEnum.Failed, confirmError);\n                        return resolve({\n                            paymentResult: EventsEnum.Failed,\n                        });\n                    }\n                }\n                event.complete('success');\n                this.notifyListeners(EventsEnum.Completed, null);\n                return resolve({\n                    paymentResult: EventsEnum.Completed,\n                });\n            });\n            await requestButton.initStripe(this.publishableKey, {\n                stripeAccount: this.stripeAccount,\n                showButton: false,\n            });\n        });\n    }\n}\n//# sourceMappingURL=web.js.map"],"names":["ApplePayEventsEnum","GooglePayEventsEnum","PaymentFlowEventsEnum","PaymentSheetEventsEnum","PaymentIntentEventsEnum","registerPlugin","WebPlugin","loadStripe","stripeDefineCustomElements"],"mappings":"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"}